
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2015-04-06
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Oryx - Creating an App</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/readable/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="../css/bootswatch.css" rel="stylesheet" />
		<link href="../css/reflow-skin.css" rel="stylesheet" />


		<link href="../css/lightbox.css" rel="stylesheet" />

		<link href="../css/site.css" rel="stylesheet" />
		<link href="../css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->



	</head>

	<body class="page-docs-making-an-oryx-app project-oryx" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html">Oryx 2</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="../overview.html" title="Overview">Overview</a></li>
							<li ><a href="index.html" title="Documentation">Documentation</a></li>
							<li ><a href="../contribute.html" title="Contribute">Contribute</a></li>
							<li ><a href="../download.html" title="Download">Download</a></li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="http://oryxproject.github.io/oryx/" id="bannerLeft"><h1>Oryx</h1></a>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li class="projectVersion version-date">Version: 2.0.0-SNAPSHOT</li>
				<li class="divider">|</li>
				<li class="publishDate version-date">Last Published: 2015-04-06</li>
			</ul>
		</div>
		<hr class="toc-separator" />
		<div id="toc-bar" class="navbar" data-spy="affix" data-offset-top="800">
			<div class="navbar-inner">
				<div id="toc-scroll-target" class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#toc-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="nav-collapse collapse" id="toc-nav-collapse">
						<ul id="toc" class="nav">
						<li class="toplevel"><a href="#creating_an_app" title="Creating an App">Creating an App</a></li>
						<li class="divider-vertical"></li>
						<li class="toplevel"><a href="#building_an_app" title="Building an App">Building an App</a></li>
						<li class="divider-vertical"></li>
						<li class="toplevel"><a href="#customizing_an_oryx_app" title="Customizing an Oryx App">Customizing an Oryx App</a></li>
						<li class="divider-vertical"></li>
						<li class="toplevel"><a href="#deploying_an_app" title="Deploying an App">Deploying an App</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<p>Oryx comes with an “app tier”, implementations of actual Batch, Speed and Serving Layer logic for recommendation, clustering and classification. However, any implementation may be used with Oryx. They can be mixed and matched too. For example, you could reimplement the Batch Layer for ALS-related recommendation and instead supply this alternative implementation while still using the provided ALS Serving and Speed Layers.</p> 
<div class="page-header">
 <h1 id="creating_an_app">Creating an App</h1>
</div> 
<p>In each case, creating a custom Batch, Speed or Serving Layer app amounts to implementing one Java interface or Scala trait. These interfaces/traits are found in the <tt>oryx-api</tt> module within the project.</p> 
<table border="0" class="bodyTable table table-striped table-hover"> 
 <thead> 
  <tr class="a"> 
   <th align="right"> </th> 
   <th align="left">Java </th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr class="b"> 
   <td align="right">Batch </td> 
   <td align="left"><tt>com.cloudera.oryx.api.batch.BatchLayerUpdate</tt> </td> 
  </tr> 
  <tr class="a"> 
   <td align="right">Speed </td> 
   <td align="left"><tt>com.cloudera.oryx.api.speed.SpeedModelManager</tt> </td> 
  </tr> 
  <tr class="b"> 
   <td align="right">Serving </td> 
   <td align="left"><tt>com.cloudera.oryx.api.serving.ServingModelManager</tt> </td> 
  </tr> 
 </tbody> 
</table> 
<table border="0" class="bodyTable table table-striped table-hover"> 
 <thead> 
  <tr class="a"> 
   <th align="right"> </th> 
   <th align="left">Scala </th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr class="b"> 
   <td align="right">Batch </td> 
   <td align="left"><tt>com.cloudera.oryx.api.batch.ScalaBatchLayerUpdate</tt> </td> 
  </tr> 
  <tr class="a"> 
   <td align="right">Speed </td> 
   <td align="left"><tt>com.cloudera.oryx.api.speed.ScalaSpeedModelManager</tt> </td> 
  </tr> 
  <tr class="b"> 
   <td align="right">Serving </td> 
   <td align="left"><tt>com.cloudera.oryx.api.serving.ScalaServingModelManager</tt> </td> 
  </tr> 
 </tbody> 
</table> 
<h1 id="building_an_app">Building an App</h1> 
<p>To access these interfaces/traits in your application, add a dependency on <tt>com.cloudera.oryx:oryx-api</tt>. The scope should be <tt>provided</tt>.</p> 
<p>In Maven, this would mean adding a dependency like:</p> 
<div class="source"> 
 <div class="source"> 
  <pre>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;com.cloudera.oryx&lt;/groupId&gt;
    &lt;artifactId&gt;oryx-api&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
    &lt;version&gt;2.0.0&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</pre> 
 </div> 
</div> 
<p>A minimal skeleton project can be found at <a href="/OryxProject/oryx/tree/master/app/example">example/</a>.</p> 
<p>Compile your code and create a JAR file containing only your implementation, and any supporting third-party code. With Maven, this happens with <tt>mvn package</tt>.</p> 
<h1 id="customizing_an_oryx_app">Customizing an Oryx App</h1> 
<p>When deploying the prepackaged applications that come with Oryx, in some cases, it’s possible to supply additional implementations to customize their behavior. For example, the ALS recommender application exposes a <tt>com.cloudera.oryx.app.als.RescorerProvider</tt> interface. These app-specific API classes are found in module <tt>oryx-app-api</tt>. Implementations of interfaces like these can be compiled, packaged and deployed in the same way described here for stand-alone applications.</p> 
<div class="source"> 
 <div class="source"> 
  <pre>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;com.cloudera.oryx&lt;/groupId&gt;
    &lt;artifactId&gt;oryx-app-api&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
    &lt;version&gt;2.0.0&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</pre> 
 </div> 
</div> 
<h1 id="deploying_an_app">Deploying an App</h1> 
<p>Copy the resulting JAR file – call it <tt>myapp.jar</tt> – to the directory containing the Oryx binary JAR file it will be run with.</p> 
<p>Change your Oryx <tt>.conf</tt> file to refer to your custom Batch, Speed or Serving implementation class, as appropriate.</p> 
<p>When running the Batch / Speed / Serving Layers, add <tt>--app-jar myapp.jar</tt> to the <tt>run.sh</tt> command line.</p>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span9 bottom-nav">
					<ul class="nav nav-list">
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2014-2015. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="../js/lightbox.min.js"></script>
	<script src="../js/reflow-scroll.js"></script>

	<script src="../js/reflow-skin.js"></script>

	</body>
</html>
